<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="./base.css"> <!-- 현재 디렉터리의 파일이름 지정 -->
<title>실시간 데이터 추가</title>
</head>
<!-- 데이터를 입력하고 추가 버튼을 누르면 데이터가 테이블의 마지막에 추가되도록 하시오 -->
<body>
	<h3>테이블 데이터 추가</h3>
	<table width="570" id="table_test1">
		<thead>
			<tr>
				<td><input type="button" id="btn_add1" value="추가"></td>
				<td><input type="text" id="user_id1"></td>
				<td><input type="text" id="user_nm1"></td>
				<td><input type="text" id="user_age1"></td>
			</tr>
		</thead>
		<tbody>
			<!-- 선택된 위치뒤에 입력이 되도록 수정해보시오 -->
			<tr class="blue">
				<td><input type="radio" name="rdo"></td><td>대리</td><td>차은우</td><td>24</td>
			</tr>
			<tr class="blue">
				<td><input type="radio" name="rdo"></td><td>과장</td><td>박보검</td><td>25</td>
			</tr>			
		</tbody>
	</table>
	
	<script>
	$(document).ready(function () {
		$("#btn_add1").on("click", function (item, index, arr) {			
			if($(":radio[name=rdo]:checked").length==0){ // 선택된 위치가 없음
				alert("추가할 위치를 선택하세요.");
				return;
			}
			var idx = $(":radio[name=rdo]").index($(":radio[name=rdo]:checked"));
			
			var user_id = $("#user_id1").val(); 
			var user_nm = $("#user_nm1").val();
			var user_age =  $("#user_age1").val();
			if(user_id==""||user_nm==""||user_age==""){
				alert("빈값을 추가할 수 없습니다.");
				return;
			}
		
			var trHtml = "<tr class='blue'><td>"+"<input type='radio' name='rdo'>"+"</td><td>"+ user_id + "</td><td>" + user_nm + "</td><td>" + user_age + "</td></tr>";
			
			//$("#table_test1").append(trHtml);
			
			$(trHtml).insertAfter("#table_test1 tbody tr:eq("+idx+")");
			
			$(":radio").prop("checked", false);
				
			user_id.val(""); 
			user_nm.val("");
			user_age.val("");
				
		});
	});
	</script>
</body>
</html>



























